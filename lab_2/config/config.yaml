# Text Classification Configuration for Phishing Email Detection

# Данные и пути
data:
  train_csv: "data/phishing_emails_train.csv"
  test_csv: "data/phishing_emails_test.csv"
  text_column: "text"  # название колонки с текстом
  label_column: "label"  # название колонки с метками

paths:
  artifacts_dir: "artifacts"
  logs_dir: "logs"
  models_dir: "artifacts/models"
  reports_dir: "artifacts/reports"
  eda_dir: "artifacts/eda"
  vectorizers_dir: "artifacts/vectorizers"

# NLP Preprocessing
preprocessing:
  lowercase: true
  remove_urls: true
  remove_emails: true
  remove_html: true
  remove_special_chars: true
  remove_numbers: false
  remove_stopwords: false  # осторожно! некоторые стоп-слова важны для phishing
  stemming: false
  lemmatization: true
  min_word_length: 2

# Векторизация
vectorization:
  # TF-IDF параметры
  tfidf:
    max_features: 10000
    ngram_range: [1, 2]  # unigrams + bigrams
    min_df: 2
    max_df: 0.95
    use_idf: true
    sublinear_tf: true

  # Count Vectorizer параметры
  count:
    max_features: 10000
    ngram_range: [1, 2]
    min_df: 2
    max_df: 0.95

  # Word2Vec параметры
  word2vec:
    vector_size: 100
    window: 5
    min_count: 2
    workers: 4

# Модели классификации
models:
  logistic_regression:
    C: 1.0
    max_iter: 1000
    random_state: 42
    class_weight: "balanced"  # для работы с дисбалансом

  naive_bayes:
    alpha: 1.0  # сглаживание Лапласа

  random_forest:
    n_estimators: 100
    max_depth: 20
    min_samples_split: 5
    random_state: 42
    class_weight: "balanced"
    n_jobs: -1

  svm:
    C: 1.0
    kernel: "linear"
    random_state: 42
    class_weight: "balanced"

  xgboost:
    n_estimators: 100
    max_depth: 6
    learning_rate: 0.1
    random_state: 42
    scale_pos_weight: 1  # для дисбаланса классов

# Параметры обучения
training:
  test_size: 0.2
  random_state: 42
  cv_folds: 5
  shuffle: true
  stratify: true  # сохранение пропорций классов

# EDA параметры
eda:
  sample_size: 50000  # для ускорения на больших данных
  max_words_wordcloud: 100
  wordcloud_width: 800
  wordcloud_height: 400
  top_n_ngrams: 20  # топ N-грамм для визуализации
  plot_style: "seaborn-v0_8"

# Evaluation
evaluation:
  metrics: ["accuracy", "precision", "recall", "f1", "roc_auc"]
  average: "binary"  # для binary classification
  pos_label: 1  # phishing = 1
  confusion_matrix: true
  classification_report: true
  roc_curve: true
  pr_curve: true

# Логирование
logging:
  level: "INFO"
  format: "%(asctime)s - %(name)s - %(levelname)s - %(message)s"
  file_enabled: true
  console_enabled: true

# Специфичные для phishing keywords (опционально)
phishing_keywords:
  urgent_words: ["urgent", "immediately", "action required", "verify", "confirm"]
  financial_words: ["account", "bank", "credit card", "payment", "transfer"]
  threat_words: ["suspended", "locked", "unauthorized", "security alert"]
  action_words: ["click here", "download", "update", "verify now"]
